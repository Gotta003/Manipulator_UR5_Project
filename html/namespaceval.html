<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Manipulation_UR5_Project: val Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Manipulation_UR5_Project<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Pick and drop of blocks from a side of a table to another using a camera for blocks recognition and a Ur5e manipulator model for manipulation.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespaceval.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">val Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68d1b6a8c7f3f4c30afe14a7f2492a8e" id="r_a68d1b6a8c7f3f4c30afe14a7f2492a8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68d1b6a8c7f3f4c30afe14a7f2492a8e">run</a> (data=<a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>/&quot;../datasets/mnist&quot;, weights=<a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>/&quot;yolov5s-cls.pt&quot;, batch_size=128, imgsz=224, device=&quot;&quot;, workers=8, verbose=False, project=<a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>/&quot;runs/val-cls&quot;, name=&quot;exp&quot;, exist_ok=False, half=False, dnn=False, model=None, dataloader=None, criterion=None, pbar=None)</td></tr>
<tr class="separator:a68d1b6a8c7f3f4c30afe14a7f2492a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994b1b7fd23511832a86459479c0a01a" id="r_a994b1b7fd23511832a86459479c0a01a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a994b1b7fd23511832a86459479c0a01a">parse_opt</a> ()</td></tr>
<tr class="separator:a994b1b7fd23511832a86459479c0a01a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85e72f2be85829c1d458402a4ad3196" id="r_aa85e72f2be85829c1d458402a4ad3196"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa85e72f2be85829c1d458402a4ad3196">main</a> (<a class="el" href="#a1127a298ff36841c4ed64170b810536b">opt</a>)</td></tr>
<tr class="separator:aa85e72f2be85829c1d458402a4ad3196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6caa1705f339843632037dab90799a9f" id="r_a6caa1705f339843632037dab90799a9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6caa1705f339843632037dab90799a9f">save_one_txt</a> (predn, save_conf, shape, file)</td></tr>
<tr class="separator:a6caa1705f339843632037dab90799a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80c545ea2b3b16066f43c12b40ea2c8" id="r_aa80c545ea2b3b16066f43c12b40ea2c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa80c545ea2b3b16066f43c12b40ea2c8">save_one_json</a> (predn, jdict, <a class="el" href="path_8h.html#a7db999017e5f2d4adca6c857667f89b4">path</a>, class_map, pred_masks)</td></tr>
<tr class="separator:aa80c545ea2b3b16066f43c12b40ea2c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9047efe14a41ff80f40c5d7243797305" id="r_a9047efe14a41ff80f40c5d7243797305"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9047efe14a41ff80f40c5d7243797305">process_batch</a> (detections, labels, iouv, pred_masks=None, gt_masks=None, overlap=False, masks=False)</td></tr>
<tr class="separator:a9047efe14a41ff80f40c5d7243797305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfb6be114374682907ab8c05af56395" id="r_a7bfb6be114374682907ab8c05af56395"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7bfb6be114374682907ab8c05af56395">run</a> (data, weights=None, batch_size=32, imgsz=640, conf_thres=0.001, iou_thres=0.6, max_det=300, task=&quot;val&quot;, device=&quot;&quot;, workers=8, single_cls=False, augment=False, verbose=False, save_txt=False, save_hybrid=False, save_conf=False, save_json=False, project=<a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>/&quot;runs/val-seg&quot;, name=&quot;exp&quot;, exist_ok=False, half=True, dnn=False, model=None, dataloader=None, save_dir=Path(&quot;&quot;), plots=True, overlap=False, mask_downsample_ratio=1, compute_loss=None, callbacks=<a class="el" href="classutils_1_1callbacks_1_1_callbacks.html">Callbacks</a>())</td></tr>
<tr class="separator:a7bfb6be114374682907ab8c05af56395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6b3267839c853c0d5b19c4b1f47b5b" id="r_afd6b3267839c853c0d5b19c4b1f47b5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd6b3267839c853c0d5b19c4b1f47b5b">save_one_json</a> (predn, jdict, <a class="el" href="path_8h.html#a7db999017e5f2d4adca6c857667f89b4">path</a>, class_map)</td></tr>
<tr class="separator:afd6b3267839c853c0d5b19c4b1f47b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa671e970f9e83c81f90d3d33f09eab14" id="r_aa671e970f9e83c81f90d3d33f09eab14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa671e970f9e83c81f90d3d33f09eab14">process_batch</a> (detections, labels, iouv)</td></tr>
<tr class="separator:aa671e970f9e83c81f90d3d33f09eab14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bf42f206b200c48937a5c024016850" id="r_a67bf42f206b200c48937a5c024016850"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67bf42f206b200c48937a5c024016850">run</a> (data, weights=None, batch_size=32, imgsz=640, conf_thres=0.001, iou_thres=0.6, max_det=300, task=&quot;val&quot;, device=&quot;&quot;, workers=8, single_cls=False, augment=False, verbose=False, save_txt=False, save_hybrid=False, save_conf=False, save_json=False, project=<a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>/&quot;runs/val&quot;, name=&quot;exp&quot;, exist_ok=False, half=True, dnn=False, model=None, dataloader=None, save_dir=Path(&quot;&quot;), plots=True, callbacks=<a class="el" href="classutils_1_1callbacks_1_1_callbacks.html">Callbacks</a>(), compute_loss=None)</td></tr>
<tr class="separator:a67bf42f206b200c48937a5c024016850"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9572b46935104dab1c3fd617b1414f17" id="r_a9572b46935104dab1c3fd617b1414f17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9572b46935104dab1c3fd617b1414f17">FILE</a> = Path(__file__).resolve()</td></tr>
<tr class="separator:a9572b46935104dab1c3fd617b1414f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481b90651ac652c0165cbd271448a5af" id="r_a481b90651ac652c0165cbd271448a5af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a> = FILE.parents[1]</td></tr>
<tr class="separator:a481b90651ac652c0165cbd271448a5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1127a298ff36841c4ed64170b810536b" id="r_a1127a298ff36841c4ed64170b810536b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1127a298ff36841c4ed64170b810536b">opt</a> = <a class="el" href="#a994b1b7fd23511832a86459479c0a01a">parse_opt</a>()</td></tr>
<tr class="separator:a1127a298ff36841c4ed64170b810536b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Validate a trained YOLOv5 classification model on a classification dataset.

Usage:
    $ bash data/scripts/get_imagenet.sh --val  # download ImageNet val split (6.3G, 50000 images)
    $ python classify/val.py --weights yolov5m-cls.pt --data ../datasets/imagenet --img 224  # validate ImageNet

Usage - formats:
    $ python classify/val.py --weights yolov5s-cls.pt                 # PyTorch
                                       yolov5s-cls.torchscript        # TorchScript
                                       yolov5s-cls.onnx               # ONNX Runtime or OpenCV DNN with --dnn
                                       yolov5s-cls_openvino_model     # OpenVINO
                                       yolov5s-cls.engine             # TensorRT
                                       yolov5s-cls.mlmodel            # CoreML (macOS-only)
                                       yolov5s-cls_saved_model        # TensorFlow SavedModel
                                       yolov5s-cls.pb                 # TensorFlow GraphDef
                                       yolov5s-cls.tflite             # TensorFlow Lite
                                       yolov5s-cls_edgetpu.tflite     # TensorFlow Edge TPU
                                       yolov5s-cls_paddle_model       # PaddlePaddle
</pre><pre class="fragment">Validate a trained YOLOv5 segment model on a segment dataset.

Usage:
    $ bash data/scripts/get_coco.sh --val --segments  # download COCO-segments val split (1G, 5000 images)
    $ python segment/val.py --weights yolov5s-seg.pt --data coco.yaml --img 640  # validate COCO-segments

Usage - formats:
    $ python segment/val.py --weights yolov5s-seg.pt                 # PyTorch
                                      yolov5s-seg.torchscript        # TorchScript
                                      yolov5s-seg.onnx               # ONNX Runtime or OpenCV DNN with --dnn
                                      yolov5s-seg_openvino_label     # OpenVINO
                                      yolov5s-seg.engine             # TensorRT
                                      yolov5s-seg.mlmodel            # CoreML (macOS-only)
                                      yolov5s-seg_saved_model        # TensorFlow SavedModel
                                      yolov5s-seg.pb                 # TensorFlow GraphDef
                                      yolov5s-seg.tflite             # TensorFlow Lite
                                      yolov5s-seg_edgetpu.tflite     # TensorFlow Edge TPU
                                      yolov5s-seg_paddle_model       # PaddlePaddle
</pre><pre class="fragment">Validate a trained YOLOv5 detection model on a detection dataset.

Usage:
    $ python val.py --weights yolov5s.pt --data coco128.yaml --img 640

Usage - formats:
    $ python val.py --weights yolov5s.pt                 # PyTorch
                              yolov5s.torchscript        # TorchScript
                              yolov5s.onnx               # ONNX Runtime or OpenCV DNN with --dnn
                              yolov5s_openvino_model     # OpenVINO
                              yolov5s.engine             # TensorRT
                              yolov5s.mlpackage          # CoreML (macOS-only)
                              yolov5s_saved_model        # TensorFlow SavedModel
                              yolov5s.pb                 # TensorFlow GraphDef
                              yolov5s.tflite             # TensorFlow Lite
                              yolov5s_edgetpu.tflite     # TensorFlow Edge TPU
                              yolov5s_paddle_model       # PaddlePaddle
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aa85e72f2be85829c1d458402a4ad3196" name="aa85e72f2be85829c1d458402a4ad3196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85e72f2be85829c1d458402a4ad3196">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.main </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>opt</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Executes the YOLOv5 model prediction workflow, handling argument parsing and requirement checks.</pre><pre class="fragment">Executes YOLOv5 tasks including training, validation, testing, speed, and study with configurable options.</pre><pre class="fragment">Executes YOLOv5 tasks like training, validation, testing, speed, and study benchmarks based on provided options.

Args:
    opt (argparse.Namespace): Parsed command-line options.
        This includes values for parameters like 'data', 'weights', 'batch_size', 'imgsz', 'conf_thres',
        'iou_thres', 'max_det', 'task', 'device', 'workers', 'single_cls', 'augment', 'verbose', 'save_txt',
        'save_hybrid', 'save_conf', 'save_json', 'project', 'name', 'exist_ok', 'half', and 'dnn', essential
        for configuring the YOLOv5 tasks.

Returns:
    None

Examples:
    To validate a trained YOLOv5 model on the COCO dataset with a specific weights file, use:
    ```python
    $ python val.py --weights yolov5s.pt --data coco128.yaml --img 640
    ```
</pre> 
</div>
</div>
<a id="a994b1b7fd23511832a86459479c0a01a" name="a994b1b7fd23511832a86459479c0a01a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994b1b7fd23511832a86459479c0a01a">&#9670;&#160;</a></span>parse_opt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.parse_opt </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parses and returns command line arguments for YOLOv5 model evaluation and inference settings.</pre><pre class="fragment">Parses command line arguments for configuring YOLOv5 options like dataset path, weights, batch size, and
inference settings.
</pre><pre class="fragment">Parse command-line options for configuring YOLOv5 model inference.

Args:
    data (str, optional): Path to the dataset YAML file. Default is 'data/coco128.yaml'.
    weights (list[str], optional): List of paths to model weight files. Default is 'yolov5s.pt'.
    batch_size (int, optional): Batch size for inference. Default is 32.
    imgsz (int, optional): Inference image size in pixels. Default is 640.
    conf_thres (float, optional): Confidence threshold for predictions. Default is 0.001.
    iou_thres (float, optional): IoU threshold for Non-Max Suppression (NMS). Default is 0.6.
    max_det (int, optional): Maximum number of detections per image. Default is 300.
    task (str, optional): Task type - options are 'train', 'val', 'test', 'speed', or 'study'. Default is 'val'.
    device (str, optional): Device to run the model on. e.g., '0' or '0,1,2,3' or 'cpu'. Default is empty to let the system choose automatically.
    workers (int, optional): Maximum number of dataloader workers per rank in DDP mode. Default is 8.
    single_cls (bool, optional): If set, treats the dataset as a single-class dataset. Default is False.
    augment (bool, optional): If set, performs augmented inference. Default is False.
    verbose (bool, optional): If set, reports mAP by class. Default is False.
    save_txt (bool, optional): If set, saves results to *.txt files. Default is False.
    save_hybrid (bool, optional): If set, saves label+prediction hybrid results to *.txt files. Default is False.
    save_conf (bool, optional): If set, saves confidences in --save-txt labels. Default is False.
    save_json (bool, optional): If set, saves results to a COCO-JSON file. Default is False.
    project (str, optional): Project directory to save results to. Default is 'runs/val'.
    name (str, optional): Name of the directory to save results to. Default is 'exp'.
    exist_ok (bool, optional): If set, existing directory will not be incremented. Default is False.
    half (bool, optional): If set, uses FP16 half-precision inference. Default is False.
    dnn (bool, optional): If set, uses OpenCV DNN for ONNX inference. Default is False.

Returns:
    argparse.Namespace: Parsed command-line options.

Notes:
    - The '--data' parameter is checked to ensure it ends with 'coco.yaml' if '--save-json' is set.
    - The '--save-txt' option is set to True if '--save-hybrid' is enabled.
    - Args are printed using `print_args` to facilitate debugging.

Example:
    To validate a trained YOLOv5 model on a COCO dataset:
    ```python
    $ python val.py --weights yolov5s.pt --data coco128.yaml --img 640
    ```
    Different model formats could be used instead of `yolov5s.pt`:
    ```python
    $ python val.py --weights yolov5s.pt yolov5s.torchscript yolov5s.onnx yolov5s_openvino_model yolov5s.engine
    ```
    Additional options include saving results in different formats, selecting devices, and more.
</pre> 
</div>
</div>
<a id="aa671e970f9e83c81f90d3d33f09eab14" name="aa671e970f9e83c81f90d3d33f09eab14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa671e970f9e83c81f90d3d33f09eab14">&#9670;&#160;</a></span>process_batch() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.process_batch </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>detections</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>labels</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>iouv</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a correct prediction matrix given detections and labels at various IoU thresholds.

Args:
    detections (np.ndarray): Array of shape (N, 6) where each row corresponds to a detection with format
        [x1, y1, x2, y2, conf, class].
    labels (np.ndarray): Array of shape (M, 5) where each row corresponds to a ground truth label with format
        [class, x1, y1, x2, y2].
    iouv (np.ndarray): Array of IoU thresholds to evaluate at.

Returns:
    correct (np.ndarray): A binary array of shape (N, len(iouv)) indicating whether each detection is a true positive
        for each IoU threshold. There are 10 IoU levels used in the evaluation.

Example:
    ```python
    detections = np.array([[50, 50, 200, 200, 0.9, 1], [30, 30, 150, 150, 0.7, 0]])
    labels = np.array([[1, 50, 50, 200, 200]])
    iouv = np.linspace(0.5, 0.95, 10)
    correct = process_batch(detections, labels, iouv)
    ```

Notes:
    - This function is used as part of the evaluation pipeline for object detection models.
    - IoU (Intersection over Union) is a common evaluation metric for object detection performance.
</pre> 
</div>
</div>
<a id="a9047efe14a41ff80f40c5d7243797305" name="a9047efe14a41ff80f40c5d7243797305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9047efe14a41ff80f40c5d7243797305">&#9670;&#160;</a></span>process_batch() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.process_batch </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>detections</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>labels</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>iouv</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pred_masks</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>gt_masks</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>overlap</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return correct prediction matrix
Arguments:
    detections (array[N, 6]), x1, y1, x2, y2, conf, class
    labels (array[M, 5]), class, x1, y1, x2, y2
Returns:
    correct (array[N, 10]), for 10 IoU levels.
</pre> 
</div>
</div>
<a id="a67bf42f206b200c48937a5c024016850" name="a67bf42f206b200c48937a5c024016850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bf42f206b200c48937a5c024016850">&#9670;&#160;</a></span>run() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.run </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>weights</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>batch_size</em></span><span class="paramdefsep"> = </span><span class="paramdefval">32</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>imgsz</em></span><span class="paramdefsep"> = </span><span class="paramdefval">640</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>conf_thres</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.001</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>iou_thres</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.6</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>max_det</em></span><span class="paramdefsep"> = </span><span class="paramdefval">300</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>task</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;val&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>device</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>workers</em></span><span class="paramdefsep"> = </span><span class="paramdefval">8</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>single_cls</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>augment</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_txt</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_hybrid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_conf</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_json</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>project</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>&#160;/&#160;&quot;runs/val&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;exp&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>exist_ok</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>half</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dnn</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>model</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dataloader</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_dir</em></span><span class="paramdefsep"> = </span><span class="paramdefval">Path(&quot;&quot;)</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>plots</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>callbacks</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classutils_1_1callbacks_1_1_callbacks.html">Callbacks</a>()</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>compute_loss</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Evaluates a YOLOv5 model on a dataset and logs performance metrics.

Args:
    data (str | dict): Path to a dataset YAML file or a dataset dictionary.
    weights (str | list[str], optional): Path to the model weights file(s). Supports various formats including PyTorch,
        TorchScript, ONNX, OpenVINO, TensorRT, CoreML, TensorFlow SavedModel, TensorFlow GraphDef, TensorFlow Lite,
        TensorFlow Edge TPU, and PaddlePaddle.
    batch_size (int, optional): Batch size for inference. Default is 32.
    imgsz (int, optional): Input image size (pixels). Default is 640.
    conf_thres (float, optional): Confidence threshold for object detection. Default is 0.001.
    iou_thres (float, optional): IoU threshold for Non-Maximum Suppression (NMS). Default is 0.6.
    max_det (int, optional): Maximum number of detections per image. Default is 300.
    task (str, optional): Task type - 'train', 'val', 'test', 'speed', or 'study'. Default is 'val'.
    device (str, optional): Device to use for computation, e.g., '0' or '0,1,2,3' for CUDA or 'cpu' for CPU. Default is ''.
    workers (int, optional): Number of dataloader workers. Default is 8.
    single_cls (bool, optional): Treat dataset as a single class. Default is False.
    augment (bool, optional): Enable augmented inference. Default is False.
    verbose (bool, optional): Enable verbose output. Default is False.
    save_txt (bool, optional): Save results to *.txt files. Default is False.
    save_hybrid (bool, optional): Save label and prediction hybrid results to *.txt files. Default is False.
    save_conf (bool, optional): Save confidences in --save-txt labels. Default is False.
    save_json (bool, optional): Save a COCO-JSON results file. Default is False.
    project (str | Path, optional): Directory to save results. Default is ROOT/'runs/val'.
    name (str, optional): Name of the run. Default is 'exp'.
    exist_ok (bool, optional): Overwrite existing project/name without incrementing. Default is False.
    half (bool, optional): Use FP16 half-precision inference. Default is True.
    dnn (bool, optional): Use OpenCV DNN for ONNX inference. Default is False.
    model (torch.nn.Module, optional): Model object for training. Default is None.
    dataloader (torch.utils.data.DataLoader, optional): Dataloader object. Default is None.
    save_dir (Path, optional): Directory to save results. Default is Path('').
    plots (bool, optional): Plot validation images and metrics. Default is True.
    callbacks (utils.callbacks.Callbacks, optional): Callbacks for logging and monitoring. Default is Callbacks().
    compute_loss (function, optional): Loss function for training. Default is None.

Returns:
    dict: Contains performance metrics including precision, recall, mAP50, and mAP50-95.
</pre> 
</div>
</div>
<a id="a7bfb6be114374682907ab8c05af56395" name="a7bfb6be114374682907ab8c05af56395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bfb6be114374682907ab8c05af56395">&#9670;&#160;</a></span>run() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.run </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>weights</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>batch_size</em></span><span class="paramdefsep"> = </span><span class="paramdefval">32</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>imgsz</em></span><span class="paramdefsep"> = </span><span class="paramdefval">640</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>conf_thres</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.001</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>iou_thres</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.6</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>max_det</em></span><span class="paramdefsep"> = </span><span class="paramdefval">300</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>task</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;val&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>device</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>workers</em></span><span class="paramdefsep"> = </span><span class="paramdefval">8</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>single_cls</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>augment</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_txt</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_hybrid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_conf</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_json</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>project</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>&#160;/&#160;&quot;runs/val-seg&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;exp&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>exist_ok</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>half</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dnn</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>model</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dataloader</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_dir</em></span><span class="paramdefsep"> = </span><span class="paramdefval">Path(&quot;&quot;)</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>plots</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>overlap</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mask_downsample_ratio</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>compute_loss</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>callbacks</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classutils_1_1callbacks_1_1_callbacks.html">Callbacks</a>()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Validates a YOLOv5 segmentation model on specified dataset, producing metrics, plots, and optional JSON
output.
</pre> 
</div>
</div>
<a id="a68d1b6a8c7f3f4c30afe14a7f2492a8e" name="a68d1b6a8c7f3f4c30afe14a7f2492a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68d1b6a8c7f3f4c30afe14a7f2492a8e">&#9670;&#160;</a></span>run() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.run </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>&#160;/&#160;&quot;../datasets/mnist&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>weights</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>&#160;/&#160;&quot;yolov5s-cls.pt&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>batch_size</em></span><span class="paramdefsep"> = </span><span class="paramdefval">128</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>imgsz</em></span><span class="paramdefsep"> = </span><span class="paramdefval">224</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>device</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>workers</em></span><span class="paramdefsep"> = </span><span class="paramdefval">8</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>project</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="#a481b90651ac652c0165cbd271448a5af">ROOT</a>&#160;/&#160;&quot;runs/val-cls&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;exp&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>exist_ok</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>half</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dnn</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>model</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dataloader</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>criterion</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pbar</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Validates a YOLOv5 classification model on a dataset, computing metrics like top1 and top5 accuracy.</pre> 
</div>
</div>
<a id="afd6b3267839c853c0d5b19c4b1f47b5b" name="afd6b3267839c853c0d5b19c4b1f47b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd6b3267839c853c0d5b19c4b1f47b5b">&#9670;&#160;</a></span>save_one_json() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.save_one_json </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>predn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>jdict</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>class_map</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Saves a single JSON detection result, including image ID, category ID, bounding box, and confidence score.

Args:
    predn (torch.Tensor): Predicted detections in xyxy format with shape (n, 6) where n is the number of detections.
                          The tensor should contain [x_min, y_min, x_max, y_max, confidence, class_id] for each detection.
    jdict (list[dict]): List to collect JSON formatted detection results.
    path (pathlib.Path): Path object of the image file, used to extract image_id.
    class_map (dict[int, int]): Mapping from model class indices to dataset-specific category IDs.

Returns:
    None: Appends detection results as dictionaries to `jdict` list in-place.

Example:
    ```python
    predn = torch.tensor([[100, 50, 200, 150, 0.9, 0], [50, 30, 100, 80, 0.8, 1]])
    jdict = []
    path = Path("42.jpg")
    class_map = {0: 18, 1: 19}
    save_one_json(predn, jdict, path, class_map)
    ```
    This will append to `jdict`:
    ```
    [
        {'image_id': 42, 'category_id': 18, 'bbox': [125.0, 75.0, 100.0, 100.0], 'score': 0.9},
        {'image_id': 42, 'category_id': 19, 'bbox': [75.0, 55.0, 50.0, 50.0], 'score': 0.8}
    ]
    ```

Notes:
    The `bbox` values are formatted as [x, y, width, height], where x and y represent the top-left corner of the box.
</pre> 
</div>
</div>
<a id="aa80c545ea2b3b16066f43c12b40ea2c8" name="aa80c545ea2b3b16066f43c12b40ea2c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa80c545ea2b3b16066f43c12b40ea2c8">&#9670;&#160;</a></span>save_one_json() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.save_one_json </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>predn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>jdict</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>class_map</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pred_masks</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Saves a JSON file with detection results including bounding boxes, category IDs, scores, and segmentation masks.

Example JSON result: {"image_id": 42, "category_id": 18, "bbox": [258.15, 41.29, 348.26, 243.78], "score": 0.236}.
</pre> 
</div>
</div>
<a id="a6caa1705f339843632037dab90799a9f" name="a6caa1705f339843632037dab90799a9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6caa1705f339843632037dab90799a9f">&#9670;&#160;</a></span>save_one_txt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.save_one_txt </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>predn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>save_conf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shape</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>file</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Saves detection results in txt format; includes class, xywh (normalized), optionally confidence if `save_conf` is
True.
</pre><pre class="fragment">Saves one detection result to a txt file in normalized xywh format, optionally including confidence.

Args:
    predn (torch.Tensor): Predicted bounding boxes and associated confidence scores and classes in xyxy format, tensor
        of shape (N, 6) where N is the number of detections.
    save_conf (bool): If True, saves the confidence scores along with the bounding box coordinates.
    shape (tuple): Shape of the original image as (height, width).
    file (str | Path): File path where the result will be saved.

Returns:
    None

Notes:
    The xyxy bounding box format represents the coordinates (xmin, ymin, xmax, ymax).
    The xywh format represents the coordinates (center_x, center_y, width, height) and is normalized by the width and
    height of the image.

Example:
    ```python
    predn = torch.tensor([[10, 20, 30, 40, 0.9, 1]])  # example prediction
    save_one_txt(predn, save_conf=True, shape=(640, 480), file="output.txt")
    ```
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9572b46935104dab1c3fd617b1414f17" name="a9572b46935104dab1c3fd617b1414f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9572b46935104dab1c3fd617b1414f17">&#9670;&#160;</a></span>FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.FILE = Path(__file__).resolve()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1127a298ff36841c4ed64170b810536b" name="a1127a298ff36841c4ed64170b810536b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1127a298ff36841c4ed64170b810536b">&#9670;&#160;</a></span>opt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.opt = <a class="el" href="#a994b1b7fd23511832a86459479c0a01a">parse_opt</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a481b90651ac652c0165cbd271448a5af" name="a481b90651ac652c0165cbd271448a5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a481b90651ac652c0165cbd271448a5af">&#9670;&#160;</a></span>ROOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">val.ROOT = FILE.parents[1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceval.html">val</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
