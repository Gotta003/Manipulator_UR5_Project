<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Manipulation_UR5_Project: Fundamentals of Robotics Project 2024-2025</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Manipulation_UR5_Project<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Pick and drop of blocks from a side of a table to another using a camera for blocks recognition and a Ur5e manipulator model for manipulation.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Fundamentals of Robotics Project 2024-2025</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Table of Contents</h1>
<ul>
<li>Introduction</li>
<li>Project Layout</li>
<li>Software Requiremets</li>
<li>Installation and Configuration<ul>
<li>Clone Git</li>
<li>Docker<ul>
<li>Setup Containers</li>
<li>Setup localhost-6080</li>
<li>Setup localhost-6081</li>
</ul>
</li>
<li>Run Project</li>
</ul>
</li>
<li>Work Contribution</li>
<li>Contact</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md3"></a>
Introduction</h1>
<p>Back to top</p>
<hr  />
<h1><a class="anchor" id="autotoc_md5"></a>
Project Layout</h1>
<div class="fragment"><div class="line">Project</div>
<div class="line"> ┣ robotics_project_ws             # Main package containing all other</div>
<div class="line"> ┃ ┗ src                           # Folder with all our code</div>
<div class="line"> ┃   ┣ camera_ws                   # Package for analyzing the images taken and extrapolate what we need for the arm</div>
<div class="line"> ┃   ┃ ┣ generated                 # Analyzed images</div>
<div class="line"> ┃   ┃ ┣ include                   # Headers for package camera_ws</div>
<div class="line"> ┃   ┃ ┣ msg                       # Messages for communication between packages</div>
<div class="line"> ┃   ┃ ┣ src                       # Definitions of functions in header</div>
<div class="line"> ┃   ┃ ┃ ┣ calc_medium_value.cpp   # Definitions for ...</div>
<div class="line"> ┃   ┃ ┃ ┣ image.cpp               # Definitions for ...</div>
<div class="line"> ┃   ┃ ┃ ┣ points.cpp              # Definitions for ...</div>
<div class="line"> ┃   ┃ ┃ ┗ transform_image.cpp     # Definitions for ...</div>
<div class="line"> ┃   ┃ ┣ srv                       # Srv files for services functions</div>
<div class="line"> ┃   ┃ ┣ CMakeLists.txt            # Cmake to build the executable for analyzing the images</div>
<div class="line"> ┃   ┃ ┣ package.xml               # Package Identificator</div>
<div class="line"> ┃   ┃ ┗ visual.py                 # View from above the table</div>
<div class="line"> ┃   ┣ complete_job_ws             # Package that performs all the actions of the single packages</div>
<div class="line"> ┃   ┃ ┣ include                   # Headers for </div>
<div class="line"> ┃   ┃ ┣ src                       # Definitions of functions in header</div>
<div class="line"> ┃   ┃ ┃ ┣ complete_job.cpp        # Definitions for ...</div>
<div class="line"> ┃   ┃ ┃ ┗ main.cpp                # Definitions for ...</div>
<div class="line"> ┃   ┃ ┣ CMakeLists.txt            # Cmake to build the executable for ...</div>
<div class="line"> ┃   ┃ ┗ package.xml               # Package Identificator</div>
<div class="line"> ┃   ┣ move_ws                     # Package for moving the manipulator</div>
<div class="line"> ┃   ┃ ┣ include                   # Headers of package move_ws</div>
<div class="line"> ┃   ┃ ┃ ┣ kin_communication.h     # Header for communication client-server of moving</div>
<div class="line"> ┃   ┃ ┃ ┗ kinematics.h            # Header for movement functions</div>
<div class="line"> ┃   ┃ ┣ src                       # Definitions of functions in header</div>
<div class="line"> ┃   ┃ ┃ ┣ kin_communication.cpp   # Definitions for communication client-server of moving</div>
<div class="line"> ┃   ┃ ┃ ┣ kinematics.cpp          # Definitions for movement functions</div>
<div class="line"> ┃   ┃ ┃ ┗ main.cpp                # Test of movement functionality</div>
<div class="line"> ┃   ┃ ┣ CMakeLists.txt            # Cmake to build the executable for moving</div>
<div class="line"> ┃   ┃ ┗ package.xml               # Package Identificator  </div>
<div class="line"> ┃   ┣ vision_ws                   # Package for vision (IN DEVELOPMENT)</div>
<div class="line"> ┃   ┗ vision_ws_msgs              #</div>
<div class="line"> ┣ robotics_project_ws             # Modified version of Placido&#39;s work</div>
<div class="line"> ┃ ┣ config                        # configuration for the UR5 arm</div>
<div class="line"> ┃ ┣ docker                        # </div>
<div class="line"> ┃ ┣ gripper                       # Scripts for changing of gripper state</div>
<div class="line"> ┃ ┣ images                        # </div>
<div class="line"> ┃ ┣ launch                        # </div>
<div class="line"> ┃ ┃ ┣ interface.launch.py         # Launch file to simulate the UR5 robot in gazebo</div>
<div class="line"> ┃ ┃ ┗ sim.launch.py               # Launch file to interact with simulated and real UR5 robot</div>
<div class="line"> ┃ ┣ models                        # URDF files and more to prepare the configuration</div>
<div class="line"> ┃ ┣ params                        # Parameters file for the Gazebo bridge </div>
<div class="line"> ┃ ┣ rviz                          # </div>
<div class="line"> ┃ ┣ scripts                       # Folder containing two scripts mentioned in the `Setup Containers section`</div>
<div class="line"> ┃ ┣ src                           # </div>
<div class="line"> ┃ ┣ worlds                        # </div>
<div class="line"> ┣ $FILES$.sh                      # Bash scripts for saving time</div>
<div class="line"> ┣ ...</div>
<div class="line"> ┣ Report.pdf                      # Report </div>
<div class="line"> ┗ Latex source                    # Folder with Original files from which the pdf was generated</div>
</div><!-- fragment --><p>ros2_ur5_interface is a modified version of the git kindly offered from Placido (<a href="https://github.com/pla10/ros2_ur5_interface.git">link here</a>), so that it will work better with our part.</p>
<p>Back to top</p>
<hr  />
<h1><a class="anchor" id="autotoc_md7"></a>
Software Requiremets</h1>
<ul>
<li>Last version of the Operating system</li>
<li>Last version of the DockerDesktop</li>
<li>Minimum 20gb to download what is needed to run all.</li>
</ul>
<p>If this prerequisites are not satisfied, it's not guaranteed the right functioning of this code.</p>
<p>Back to top</p>
<hr  />
<h1><a class="anchor" id="autotoc_md9"></a>
Installation and Configuration</h1>
<p>For windows it's needed to install a wsl, so that it is possible to use a linux console on a windows system. The wsl can be found on microsoft store, from all the versions we chose <code>Ubuntu 22.04.5 TLS</code>, downloadable from <a href="https://apps.microsoft.com/detail/9PN20MSR04DW?hl=en-us&amp;gl=IT&amp;ocid=pdpshare">here</a>. After opening it for the first time, it will asks you to create a new profile, with nickname and password.</p>
<p>Back to top</p>
<hr  />
<h2><a class="anchor" id="autotoc_md11"></a>
Clone Git</h2>
<p>Done the passages above in order:</p>
<p>Access to you Github Account on your terminal, running: </p><div class="fragment"><div class="line">cd ~</div>
<div class="line">gh auth login</div>
</div><!-- fragment --><p> If it doesn't work, maybe you don't have installed gh. To install it, if you are on:<br  />
 MACOS • You can use homebrew. To verify that if it is already installed on your computer, run on terminal: </p><div class="fragment"><div class="line">brew --version</div>
</div><!-- fragment --><p> If that doesn't put out Homebrew and the version, it does mean you haven't installed it, yet. So, to install it run: </p><div class="fragment"><div class="line">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</div>
</div><!-- fragment --><p> • Now, doing: </p><div class="fragment"><div class="line">brew install &lt;missing command&gt;</div>
</div><!-- fragment --><p> brew will be updated and that command will be integrated in your terminal. So, install with this method gh.<br  />
<br  />
</p>
<p>WINDOWS //// TO FILL ////<br  />
<br  />
</p>
<ol type="1">
<li>After the command run successfully, you will have to do some choices. Select Github.com then HTTPS, type Y and press Login with a web browser and then press enter. You can use any other type of method, but I'm going to explain it how I have done it<br  />
</li>
<li>In the new open panel, insert the credentials and the one-time code generated on terminal and authorize the connection<br  />
</li>
<li>Insert your passkey and after that you will see on your terminal as last line "Logged in as&lt;br&gt;
5. Now run this command to clone the above repository:&lt;br&gt;
@icode{bash} 
gh repo clone Robotics-Project-2024-2025/Manipulator_UR5_Project
@endicode 
To see, if you have successfully cloned the repository, try to access to it running:
@icode{bash} 
cd Manipulator_UR5_Project
@endicode 
Now, your are in the folder.&lt;br&gt;
7. Init and update the submodule of yolo doing:
@icode{bash} 
git submodule init
git submodule update
@endicode 
//SAY TO MODIFY THE PATH IN SH ros2.sh FILE

Now, you have all the material you need on your native machine.&lt;br&gt;&lt;br&gt;

@ref "table-of-contents" "Back to top"

&lt;hr&gt;

@subsection autotoc_md13 Docker

Click the link below:
&lt;a href="<a href="https://www.docker.com/products/docker-desktop">https://www.docker.com/products/docker-desktop</a>" &gt;https://www.docker.com/products/docker-desktop&lt;/a&gt;

Then, click on &lt;tt&gt;Download Docker Desktop&lt;/tt&gt; and choose the software you're using

If you're using windows:

After downloading it, on top  right, you'll find the settings. 
Going on
@icode{bash} 
Settings -&gt; Resources -&gt; WSL integration
@endicode 
Click on
@icode{bash} 
Enable integration with my default WSL distro
@endicode 
and then enable it for your WSL version. It will automatically link DockerDesktop to your WSL.

Remember, &lt;tt&gt;the DockerDesktop should be opened to make the project work&lt;/tt&gt;

@ref "table-of-contents" "Back to top"

&lt;hr&gt;

@subsubsection autotoc_md15 Setup Containers

There are two bashes needed to run the project. They are both from placido: &lt;tt&gt;ros2.sh&lt;/tt&gt; and &lt;tt&gt;ur5.sh&lt;/tt&gt;

Before running them, modify &lt;tt&gt;ros2.sh&lt;/tt&gt;, adding a &lt;tt&gt;-v&lt;/tt&gt; flag after the flag &lt;tt&gt;-d&lt;/tt&gt; in the long command line, so that it will look like this:

@icode{bash} 
docker run --rm -d -v /path_of_the_project_folder:/home/ubuntu/ros2_ws/src/Manipulator_UR5_Project -p 6081:80 -p 50000-50020:50000-50020 --security-opt seccomp=unconfined --shm-size=512m --net ursim_net --ip 192.168.56.200 --name ros2 pla10/ros2_ur5_interface
@endicode 




@ref "table-of-contents" "Back to top"

&lt;hr&gt;

@subsubsection autotoc_md17 Setup localhost:6081

@ref "table-of-contents" "Back to top"

&lt;hr&gt;

@subsection autotoc_md19 Run Project

run on the terminal the command: 
@icode{bash} 
bash src/Manipulator_UR5_Project/start.sh 
@endicode 

First, The bash will ask to delete a folder, accept the request and press Y for 4 times when he asks you to.

This bash will also call 4 other bashes, opening other 4 different terminal windows.
Just avoid this windows, &lt;tt&gt;without closing them&lt;/tt&gt;, always click again on the starting window, giving him what he asks.
With time, Gazebo will open with a perfect-functioning simulated UR5 arm.

@ref "table-of-contents" "Back to top"

&lt;hr&gt;

@section autotoc_md21 Work Contribution

@ref "table-of-contents" "Back to top"</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md23"></a>
Contact</h1>
<ul>
<li><b>Alessandro Benassi</b> <br  />
 Email: <a href="#" onclick="location.href='mai'+'lto:'+'nam'+'e.'+'sur'+'na'+'me@'+'em'+'ail'+'.c'+'om'; return false;">alessandro.benassi@studenti.unitn.it</a></li>
<li><b>Daniele Calvo</b> <br  />
 Email: <a href="#" onclick="location.href='mai'+'lto:'+'nam'+'e.'+'sur'+'na'+'me@'+'em'+'ail'+'.c'+'om'; return false;">daniele.calvo@studenti.unitn.it</a></li>
<li><b>Niccolò Cristoforetti</b> <br  />
 Email: <a href="#" onclick="location.href='mai'+'lto:'+'nam'+'e.'+'sur'+'na'+'me@'+'em'+'ail'+'.c'+'om'; return false;">n.cristoforetti@studenti.unitn.it</a></li>
<li><b>Matteo Gottardelli</b> <br  />
 Email: <a href="#" onclick="location.href='mai'+'lto:'+'nam'+'e.'+'sur'+'na'+'me@'+'em'+'ail'+'.c'+'om'; return false;">matteo.gottardelli@studenti.unitn.it</a></li>
</ul>
<p>Back to top</p>
<hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
